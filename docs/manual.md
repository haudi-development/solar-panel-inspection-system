# 太陽光パネル点検システム - 操作マニュアル

## はじめに
本システムは、ドローンで撮影した太陽光パネルの画像から異常を検出し、詳細なレポートを生成するWebアプリケーションです。

## システムアクセス
1. ブラウザで http://localhost:3000 （開発環境）またはデプロイ先URLにアクセス
2. トップページが表示されます

## 操作手順

### 1. 画像のアップロード

#### 手順
1. トップページの「画像アップロード」エリアを確認
2. 以下のいずれかの方法で画像を選択：
   - クリックしてファイル選択ダイアログを開く
   - 画像ファイルをドラッグ&ドロップ

#### 制限事項
- 対応形式: JPEG (.jpg, .jpeg), PNG (.png)
- 最大枚数: 10枚
- 推奨: ドローンで撮影した太陽光パネルの俯瞰画像

#### 画像選択後
- 選択された画像のリストが表示されます
- 各画像の右側の「×」ボタンで個別に削除可能
- 「解析を開始」ボタンが有効になります

### 2. 解析の実行

#### 解析開始
1. 画像選択後、「解析を開始（n枚）」ボタンをクリック
2. 解析プロセスが自動的に開始されます

#### 解析プロセス
以下の処理が順次実行されます（約8秒）：
1. 画像をアップロード中（10%）
2. オルソ画像を生成中（25%）
3. パネルを検出中（40%）
4. AI解析を実行中（55%）
5. ホットスポットを検出中（70%）
6. 異常を分類中（85%）
7. レポートを生成中（95%）
8. 解析完了（100%）

### 3. レポートの確認

#### レポート構成

##### ヘッダー情報
- プロジェクト名
- 点検日
- 施設場所
- PDF出力ボタン（将来実装）
- 共有ボタン（将来実装）

##### 統計サマリー
6つの主要指標がカード形式で表示：
- **検出された異常**: 総異常数
- **重大**: 重大な異常の数
- **中程度**: 中程度の異常の数
- **軽微**: 軽微な異常の数
- **推定電力損失**: kW単位の損失
- **影響パネル数**: 異常があるパネル数/総パネル数

##### パネルマップ
- 4行×12列のグリッド表示
- 色分け：
  - 緑: 正常
  - 黄: 軽微な異常
  - オレンジ: 中程度の異常
  - 赤: 重大な異常
- パネルをクリックすると詳細情報を表示
- ホバーでパネルIDを表示

##### 異常詳細リスト
テーブル形式で全異常を表示：
- パネルID（例: A01, B12）
- 異常タイプ
- 重要度
- IECクラス
- 電力損失（W）
- 温度差（°C）

#### 異常タイプの説明

| タイプ | 説明 | 対応 |
|--------|------|------|
| 単一ホットスポット | 1つのセルの異常発熱 | 早急な点検推奨 |
| 複数ホットスポット | 複数セルの異常発熱 | 早急な点検推奨 |
| バイパスダイオード故障 | 保護回路の故障 | 修理が必要 |
| 汚れ | パネル表面の汚れ | 清掃推奨 |
| 植生による影 | 草木による遮光 | 除草作業推奨 |

#### 重要度の分類

| 重要度 | 説明 | 推奨対応 |
|--------|------|----------|
| 重大（Critical） | 即座の対応が必要 | 24-48時間以内の点検 |
| 中程度（Moderate） | 計画的な対応が必要 | 次回定期メンテナンス時 |
| 軽微（Minor） | 経過観察 | 記録して監視継続 |

### 4. 新しい点検の開始
レポート画面右上の「新しい点検を開始」ボタンをクリックすると、最初の画面に戻ります。

## トラブルシューティング

### 画像がアップロードできない
- ファイル形式を確認（JPEG/PNGのみ対応）
- ファイルサイズを確認
- ブラウザを更新して再試行

### 解析が進まない
- インターネット接続を確認
- ブラウザコンソールでエラーを確認
- ページを更新して再試行

### レポートが表示されない
- 解析が完了するまで待つ
- ブラウザの JavaScript が有効か確認

## 注意事項
- MVP版はダミーデータによるデモンストレーションです
- 実際のAI解析機能は次期バージョンで実装予定
- データは Supabase に保存されます

## サポート
技術的な問題が発生した場合は、システム管理者にお問い合わせください。